{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _lineIndexAtHeight = _interopRequireDefault(require(\"./lineIndexAtHeight\"));\n\nvar _heightAtLineIndex = _interopRequireDefault(require(\"./heightAtLineIndex\"));\n\nvar zero = R.always(0);\nvar getTop = R.pathOr(0, ['box', 'top']);\nvar getWidows = R.pathOr(2, ['props', 'widows']);\nvar getOrphans = R.pathOr(2, ['props', 'orphans']);\n\nvar getLineBreak = function getLineBreak(node, height) {\n  var top = getTop(node);\n  var widows = getWidows(node);\n  var orphans = getOrphans(node);\n  var linesQuantity = node.lines.length;\n  var slicedLine = (0, _lineIndexAtHeight.default)(node, height - top);\n\n  if (slicedLine === 0) {\n    return 0;\n  }\n\n  if (linesQuantity < orphans) {\n    return linesQuantity;\n  }\n\n  if (slicedLine < orphans || linesQuantity < orphans + widows) {\n    return 0;\n  }\n\n  if (linesQuantity === orphans + widows) {\n    return orphans;\n  }\n\n  if (linesQuantity - slicedLine < widows) {\n    return linesQuantity - widows;\n  }\n\n  return slicedLine;\n}; // Also receives contentArea in case it's needed\n\n\nvar splitText = function splitText(node, height) {\n  var slicedLineIndex = getLineBreak(node, height);\n  var currentHeight = (0, _heightAtLineIndex.default)(node, slicedLineIndex);\n  var nextHeight = node.box.height - currentHeight;\n  var current = R.evolve({\n    lines: R.slice(0, slicedLineIndex),\n    style: R.evolve({\n      marginBottom: zero,\n      paddingBottom: zero,\n      borderBottomWidth: zero,\n      borderBottomLeftRadius: zero,\n      borderBottomRightRadius: zero\n    }),\n    box: {\n      height: R.always(currentHeight),\n      borderBottomWidth: zero\n    }\n  }, node);\n  var next = R.evolve({\n    lines: R.slice(slicedLineIndex, Infinity),\n    style: R.evolve({\n      marginTop: zero,\n      paddingTop: zero,\n      borderTopWidth: zero,\n      borderTopLeftRadius: zero,\n      borderTopRightRadius: zero\n    }),\n    box: {\n      top: zero,\n      height: R.always(nextHeight),\n      borderTopWidth: zero\n    }\n  }, node);\n  return [current, next];\n};\n\nvar _default = splitText;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}